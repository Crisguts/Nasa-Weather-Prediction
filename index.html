<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NASA Climate</title>
    <!-- Bootstrap CSS (optional, helps with layout) -->
    <!-- Use the background image as a favicon (browser will scale) -->
    <link rel="icon" href="/assets/spacebg.jpg" type="image/jpeg">
    <link rel="icon" href="/assets/spacebg.jpg" type="image/png">
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js" defer></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js">
    </script>
</head>
<body>
    <header class="py-4 text-center">
        <h1 class="app-title">NASA Climate Prediction Tool</h1>
        <p class="intro-description">Ever wanted to plan a trip in advance but
            the weather forecast couldn't cover that far ahead? Use our NASA
            data-powered climate predictor. We use statistical data from the
            last 30 years and climate-change-aware adjustments to give an
            approximation of what Earth is up to on that day or during those
            days.</p>
    </header>
    <!-- Full-screen spinner overlay (hidden by default) -->
    <div id="spinnerOverlay" style="display: none;">
        <img id="spinner" src="/assets/spinner.gif" alt="Loading" />
    </div>
    <main class="container main-area">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10">
                <div class="card shadow-sm">
                    <div
                        class="card-body p-3 d-flex flex-column flex-lg-row gap-3">
                        <div id="map-container"
                            class="flex-fill map-placeholder"
                            aria-label="Map placeholder">
                            <div id="map" class="map-inner">Leaflet Map
                            </div>
                        </div>
                        <!-- Side panel -->
                        <aside id="side-panel"
                            class="side-panel p-3 bg-light rounded">
                            <div class="mb-3">
                                <label for="modeSelect"
                                    class="form-label">Mode</label>
                                <select id="modeSelect" class="form-select"
                                    aria-label="Select mode">
                                    <option value="single">Single date</option>
                                    <option value="range">Date range</option>
                                </select>
                            </div>
                            <form id="dateForm" class="mb-3">
                                <div id="singleDateGroup" class="mb-3">
                                    <label for="singleDate"
                                        class="form-label">Date</label>
                                    <input type="date" id="singleDate"
                                        class="form-control" />
                                </div>
                                <div id="rangeDateGroup" class="d-none">
                                    <label class="form-label">Start</label>
                                    <input type="date" id="startDate"
                                        class="form-control mb-2" />
                                    <label class="form-label">End</label>
                                    <input type="date" id="endDate"
                                        class="form-control" />
                                </div>
                            </form>
                            <div class="d-grid">
                                <button id="predictBtn"
                                    class="btn btn-primary">Predict</button>
                            </div>
                        </aside>
                    </div>
                </div>
                <br>
                <div class="glass-panel">
                    <div id="results" class="p-3">
                        <h1>Results</h1>
                        <br>
                        <div class="row">
                            <div class="col-12 col-md-5">
                                <div id="resultsContent">No results yet. Select
                                    a date
                                    and location, then click "Predict".</div>
                            </div>
                            <div class="col-12 col-md-7">
                                <canvas id="resultsChart"
                                    style="max-height: 300px;"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <div class="glass-panel">
                    <div id="results" class="p-3">
                        <h2>Behind the Scenes</h2>
                        <div id="behindScenesContent">This app fetches daily
                            temperature and precipitationrecords from the NASA
                            POWER API for the
                            chosen location (2000-2025). For single dates, it
                            filters the same calendar day across all years to
                            compute the historical mean, while running linear
                            regression on the entire dataset to estimate climate
                            trends (how temperatures and precipitation have
                            changed over time). The prediction combines the
                            regression
                            trend-line with historical variability (standard
                            deviation) to produce a climate-aware estimate. The
                            visualization shows your selected day's temperatures
                            over time with the predicted value.<br> Note: this
                            is an
                            experimental tool â€” it does not replace operational
                            weather forecasts and has limited accuracy for
                            distant future dates. It does NOT predict the future
                            ðŸ˜…</div>
                    </div>
                </div>
            </div>
    </main>
    <footer class="site-footer-wrap mt-4">
        <div class="glass-panel site-footer-content p-3 mx-auto">
            <div
                class="d-flex flex-column flex-md-row justify-content-between align-items-center w-100 gap-3">
                <div>
                    <h3 class="mb-0">2025 NASA Space Apps Challenge: Will It
                        Rain On My Parade?</h3>
                </div>
                <div class="text-md-end">
                    <div class="small mb-0">Project Â· <a
                            href="https://github.com/Crisguts/Nasa-Weather-Prediction"
                            target="_blank" rel="noopener noreferrer"
                            class="text-light">View on GitHub</a></div>
                </div>
            </div>
        </div>
    </footer>
    <!-- JavaScript modules - load in order: utilities â†’ main app -->
    <script src="js/filters.js"></script>
    <script src="js/math.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/app.js" defer></script>
</body>
</html>
</body>
</html>